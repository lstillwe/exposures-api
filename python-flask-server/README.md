# Swagger generated server

## Setup
Development is being done in virtualenv using python 3

```
$ cd datatranslator/python-flask-server/
$ virtualenv -p /usr/local/bin/python3 venv3
$ source venv3/bin/activate
$ pip install -r requirements.txt
```
The initial models.py file was generated using [sqlacodegen](https://pypi.python.org/pypi/sqlacodegen)

Need to add import statement to `sqlacodegen/codegen.py`in order to account for [geoalchemy2](https://geoalchemy-2.readthedocs.io/en/latest/)

```python
from sqlalchemy.types import Boolean, String
import sqlalchemy
from geoalchemy2 import Geometry, Geography # <-- this
```

```
$ sqlacodegen --outfile models.py postgres://datatrans:somepassword@192.168.56.101:5432/bdtgreen
```

## Overview
This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project. By using the
[OpenAPI-Spec](https://github.com/swagger-api/swagger-core/wiki) from a remote server, you can easily generate a server stub.  This
is an example of building a swagger-enabled Flask server.

This example uses the [Connexion](https://github.com/zalando/connexion) library on top of Flask.

To run the server, please execute the following:

```
sudo pip3 install -U connexion # install Connexion from PyPI
python3 app.py
```

and open your browser to here:

```
http://localhost:8080/mjstealey/environmental/v1/ui/
```

Your Swagger definition lives here:

```
http://localhost:8080/mjstealey/environmental/v1/swagger.json
```

